___
# 概述
无论是红黑树、平衡二叉树、散列表，结点都是存储的key-value对。而有些场景，内存是有限的，仅需要了解key是否存在，不想知道具体内容（value）。

这时就需要一种高效的、占有空间小的数据结构器。

布隆过滤器是一种概率型数据结构，它的特点是高效的插入和查询，能确定某个字符串一定存在或者可能存在。

布隆过滤器不存储具体数据，所以占用空间小，查询结果存在误差，但误差可控，同时不支持删除操作。

___
# 数据结构
布隆过滤器的原理本质上和散列表是一样的。但布隆过滤器为了节约内存，不是使用的数组，而是使用的位图。8位1字节，64位8字节，要存储N位数据，要N/8个字节。
数据只有 0 和 1
一个 key 经过多个多个 hash 函数，然后对位图大小进行取余等到多个槽位并对应置为1。判断时只要有一个槽位为0就一定不存在该key

___
# 场景
一般的数据请求步骤：
先访问redis，如果存在则直接返回，如果不存在则走**2**访问数据库；
访问数据库，如果不存在直接返回，如果存在则将MySQL存在的key写回redis

此时，如果黑客利用漏洞伪造数据攻击或内部业务bug造成大量重复请求不存在的数据，缓存和数据库都不包含数据，最终请求压力全部涌向数据库

这个时候在服务端（server）存储一个布隆过滤器，将MySQL存在的key放入布隆过滤器中，布隆过滤器可以过滤一定不存在的数据，就可以避免这个问题

___
# 特点
布隆过滤器能确定一个key一定不存在，不能判断key一定存在，但可控误差

误差越小，布隆过滤器占用的空间越多，所使用的哈希函数也需要越多

布隆过滤器不支持删除操作
